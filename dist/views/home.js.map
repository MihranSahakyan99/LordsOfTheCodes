{"version":3,"sources":["../../views/home.js"],"names":["window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","WINDOW_WIDTH","innerWidth","WINDOW_HEIGHT","innerHeight","_particles","WeakMap","Canvas","drawCanvas","bind","refs","canvas","height","width","particle_count","props","prt_count","min_dist","set","get","document","getElementById","getContext","grd","getCtx","createLinearGradient","addColorStop","fillStyle","fillRect","i","getParticles","push","Particle","draw","paintCanvas","drawParticlesOnCanvas","update","x","vx","y","vy","radius","j","distance","p1","p2","dx","dy","dist","Math","sqrt","beginPath","strokeStyle","moveTo","lineTo","stroke","closePath","ax","ay","React","Component","random","arc","PI","fill","ReactDOM","render"],"mappings":"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","file":"home.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// #define\nwindow.requestAnimFrame = (function () {\n    return  window.requestAnimationFrame       ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame    ||\n            window.oRequestAnimationFrame      ||\n            window.msRequestAnimationFrame     ||\n        function ( callback ) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n})();\nconst WINDOW_WIDTH  = window.innerWidth;\nconst WINDOW_HEIGHT = window.innerHeight;\nconst _particles = new WeakMap();\n\nclass Canvas extends React.Component {\n    componentDidMount() {\n        this.drawCanvas = this.drawCanvas.bind(this);\n        this.refs.canvas.height = WINDOW_HEIGHT;\n        this.refs.canvas.width  = WINDOW_WIDTH;\n        this.particle_count     = this.props.prt_count;\n        this.min_dist           = this.props.min_dist;\n        _particles.set(this, []);\n        requestAnimationFrame(this.drawCanvas);\n    }\n\n    getParticles() {\n        return _particles.get(this);\n    }\n\n    getCtx() {\n        return document.getElementById(\"home_canvas\").getContext('2d');\n    }\n\n    paintCanvas() {\n        const grd = this.getCtx().createLinearGradient(0, 0, 0, WINDOW_HEIGHT);\n        grd.addColorStop(0,   '#355C7D');\n        grd.addColorStop(0.5, '#6C5B7B');\n        grd.addColorStop(1,   '#C06C84');\n        this.getCtx().fillStyle = grd;\n        this.getCtx().fillRect(0, 0, WINDOW_WIDTH, WINDOW_HEIGHT);\n\n    }\n\n    drawParticlesOnCanvas() {\n        for (let i = 0; i < this.particle_count; ++ i) {\n            this.getParticles().push(new Particle());\n        }\n\n        for (let i = 0; i < this.particle_count; ++ i) {\n            this.getParticles()[i].draw();\n        }\n    }\n\n    // Canvas controller\n    drawCanvas() {\n        this.paintCanvas();\n        this.drawParticlesOnCanvas();\n        this.update();\n        requestAnimationFrame(this.drawCanvas);\n    }\n\n    update() {\n        for (let i = 0; i < this.particle_count; ++ i) {\n            this.getParticles()[i].x += this.getParticles()[i].vx;\n            this.getParticles()[i].y += this.getParticles()[i].vy;\n\n            this.getParticles()[i].x += this.getParticles()[i].vx;\n            this.getParticles()[i].y += this.getParticles()[i].vy;\n\n            if(this.getParticles()[i].x + this.getParticles()[i].radius > WINDOW_WIDTH)\n                this.getParticles()[i].x = this.getParticles()[i].radius;\n\n            else if(this.getParticles()[i].x - this.getParticles()[i].radius < 0)\n                this.getParticles()[i].x = WINDOW_WIDTH - this.getParticles()[i].radius;\n\n            if(this.getParticles()[i].y + this.getParticles()[i].radius > WINDOW_HEIGHT)\n                this.getParticles()[i].y = this.getParticles()[i].radius;\n\n            else if(this.getParticles()[i].y - this.getParticles()[i].radius < 0)\n                this.getParticles()[i].y = WINDOW_HEIGHT - this.getParticles()[i].radius;\n\n            for (let j = 0; j < this.particle_count; ++ j) {\n                this.distance(this.getParticles()[i], this.getParticles()[j]);\n            }\n        }\n    }\n\n    distance (p1, p2) {\n        const dx = p1.x - p2.x;\n        const dy = p1.y - p2.y;\n        const dist = Math.sqrt(dx*dx + dy*dy);\n\n        if(dist < this.min_dist) {\n            this.getCtx().beginPath();\n            this.getCtx().strokeStyle = \"rgba(255,255,255,\"+ (1.2-dist/this.min_dist) +\")\";\n            this.getCtx().moveTo(p1.x, p1.y);\n            this.getCtx().lineTo(p2.x, p2.y);\n            this.getCtx().stroke();\n            this.getCtx().closePath();\n\n            const ax = dx/50000;\n            const ay = dy/50000;\n\n            p1.vx -= ax;\n            p1.vy -= ay;\n        }\n    };\n\n    render() {\n        return (\n            <canvas ref=\"canvas\" id=\"home_canvas\"/>\n        );\n    }\n}\n\nclass Particle extends Canvas {\n    constructor() {\n        super();\n        this.x      = Math.random() * WINDOW_WIDTH;\n        this.y      = Math.random() * WINDOW_HEIGHT;\n        this.vx     = -1 + Math.random() * 2;\n        this.vy     = -1 + Math.random() * 2;\n        this.radius = 4;\n    }\n\n    draw() {\n        this.getCtx().fillStyle = \"#9e9e9ed4\";\n        this.getCtx().beginPath();\n        this.getCtx().arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);\n        this.getCtx().fill();\n    }\n}\n\nReactDOM.render( <Canvas prt_count = {300} min_dist = {120} />, document.getElementById(\"home\"));\n"]}